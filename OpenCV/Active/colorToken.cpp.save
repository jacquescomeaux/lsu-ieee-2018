#include <iostream>
#include <stdio.h>
#include "opencv2/core/core.hpp"
#include "opencv2/highgui/highgui.hpp"
#include "opencv2/imgproc.hpp"

using namespace cv;
using namespace std;

/** @function main */
int main(int argc, char** argv)
{
  VideoCapture cap(1);
  if(!cap.isOpened()) return -1;

  Mat src, src_gray;

  /* Rect roi;

  char ch;

  roi.x = 220;
  roi.y = 360;
  roi.width = 40;
  roi.height = 160;
  */

  int b = 0;
  int g = 0;
  int r = 0;
  int sum = 0;

  cap >> src;
  if(src.empty()) return -1;

  Mat img = src(roi);

  cvtColor(img, img, cv::BGR2HSV);

  for i in range(int i = 220; i<261; i++) {
    for j in range(int j = 360; j<520; j++) {
      b = b + src[i][j][0];
      g = g + src[i][j][1];
      r = r + src[i][j][2];
      sum = sum + 1;

  int avB = B/sum;
  int avG = G/sum;
  int avR = R/sum;

  if (avB > 95) && (avB < 125) {
    if (avG > 90) cout << "Blue";
    else cout << "Gray";
  }

  if (avB > 140) && (avB < 170) cout << "Red";

  if (avB > 60) && (avB < 90) {
    if (avR > 100) cout << "Cyan";
    else if (avG > 55) cout << "Yellow";
    else cout << "Green";
  }

  cout << "H: " << avB << endl;
  cout << "S: " << avG << endl;
  cout << "V: " << avR << endl;

} 
